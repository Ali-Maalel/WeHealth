{% extends 'base.html.twig' %}

{% block title %}
	{{article.titre}}
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="article-title">{{ article.titre }}</h1>

		<hr>

		<div class="article-content">
			{{ article.contenu|raw }}
		</div>
		<a href="{{ path('app_PdfArticle', { 'id': article.id }) }}" class="btn btn-primary">Download PDF</a>
		<br/>
		{% if liked %}
		<a href="{{ path('article_dislike', { 'id': article.id }) }}"> <img src="{{ asset( "assets/img/icon/dislike.png")}} "/> </a>
		{% else %}
		<a href="{{ path('article_like', { 'id': article.id }) }}"> <img src="{{ asset( "assets/img/icon/like.png")}} "/> </a>
		{% endif %}
		<h2 class="comments-title mt-5">
			<span id="comment-count">{{ article.comments|length }}</span>
			commentaire(s)</h2>
		<hr>
		<table>
			<thead>
				<tr>
					<th>username</th>
					<th>contenu</th>
				</tr>
			</thead>
			<tbody>
				{% for comment in article.comments %}
					<tr>
						<td>{{comment.user.nom}} {{comment.user.prenom}}</td>
						<td>{{comment.contenu}} - {{comment.createdAt|date("m/d/Y H:i")}}</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>

		<hr>

		<div class="comment-area mb-5">
			{{ form(commentForm, { attr: { class: 'comment-form' } }) }}
			</div>

		</div>
	</div>


</div>


<hr>{% endblock %}
